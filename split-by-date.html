<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Split bank statements by date range. Extract specific months or periods from your PDF statements. Free online tool.">
    <title>Split Bank Statements by Date - Extract Date Ranges | BankCSV</title>
    <link rel="stylesheet" href="/css/modern-homepage.css">
    <link rel="stylesheet" href="/css/nav-fix.css">
    <link rel="stylesheet" href="/css/dropdown-fix.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Ensure all content is centered */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 40px;
            color: #1a1a1a;
        }
        
        .tool-hero {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8787 100%);
            color: white;
            padding: 80px 0;
            text-align: center;
        }
        
        .tool-hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .tool-hero p {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .split-features {
            padding: 80px 0;
            background: #f8f9fa;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .feature-item {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            text-align: center;
        }
        
        .feature-item i {
            font-size: 3rem;
            color: #ff6b6b;
            margin-bottom: 20px;
        }
        
        .feature-item h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #1a1a1a;
        }
        
        .feature-item p {
            color: #6c757d;
            line-height: 1.6;
        }
        
        .upload-section {
            padding: 60px 0;
            background: white;
        }
        
        .split-area {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8787 100%);
            border: 3px dashed rgba(255, 255, 255, 0.5);
            border-radius: 20px;
            padding: 60px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .split-area:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 40px rgba(255, 107, 107, 0.3);
        }
        
        .split-icon {
            font-size: 4rem;
            color: white;
            margin-bottom: 20px;
        }
        
        .date-selector {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .date-selector h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #1a1a1a;
        }
        
        .date-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .date-input-group {
            text-align: left;
        }
        
        .date-input-group label {
            display: block;
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
        }
        
        .date-input-group input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s ease;
        }
        
        .date-input-group input:focus {
            outline: none;
            border-color: #ff6b6b;
        }
        
        .quick-ranges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .quick-range-btn {
            padding: 8px 16px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .quick-range-btn:hover {
            background: #ff6b6b;
            color: white;
            border-color: #ff6b6b;
        }
        
        .quick-range-btn.active {
            background: #ff6b6b;
            color: white;
            border-color: #ff6b6b;
        }
        
        .split-examples {
            padding: 80px 0;
        }
        
        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }
        
        .example-card {
            background: #fff5f5;
            border: 2px solid #ffe0e0;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
        }
        
        .example-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .doc-icon {
            width: 60px;
            height: 80px;
            background: #ff6b6b;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }
        
        .arrow-icon {
            color: #ff6b6b;
            font-size: 2rem;
        }
        
        .mini-docs {
            display: flex;
            gap: 10px;
        }
        
        .mini-doc {
            width: 40px;
            height: 50px;
            background: #ffb3b3;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.75rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .split-button:hover:not([disabled]) {
            background: #ff5252 !important;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }
        
        .split-button.enabled {
            opacity: 1 !important;
            pointer-events: auto !important;
        }
    </style>
  <link href="/css/blog-fix.css" rel="stylesheet"/>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <a href="/" class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-file-invoice-dollar"></i>
                    </div>
                    <span class="logo-text">BankCSV</span>
                </a>
                <div class="nav-links desktop-only">
                    <div class="dropdown">
                        <button class="nav-link dropdown-toggle">
                            <i class="fas fa-th"></i> Tools
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="dropdown-menu">
                            <a href="/convert-pdf.html" class="dropdown-item">
                                <i class="fas fa-file-pdf"></i>
                                Convert PDF
                            </a>
                            <a href="/merge-statements.html" class="dropdown-item">
                                <i class="fas fa-object-group"></i>
                                Merge Statements
                            </a>
                            <a href="/split-by-date.html" class="dropdown-item">
                                <i class="fas fa-cut"></i>
                                Split by Date
                            </a>
                            <a href="/analyze-transactions.html" class="dropdown-item">
                                <i class="fas fa-chart-line"></i>
                                Analyze Transactions
                            </a>
                        </div>
                    </div>
                    <a href="/#features" class="nav-link">Features</a>
                    <a href="/#banks" class="nav-link">Supported Banks</a>
                    <a href="/blog.html" class="nav-link">Blog</a>
                    <a href="/api.html" class="nav-link">API</a>
                </div>
            </div>
            <div class="nav-right">
                <a href="/pricing.html" class="nav-link desktop-only">Pricing</a>
                <a href="/business.html" class="nav-link desktop-only">Business</a>
                <a href="/login.html" class="nav-link">Log In</a>
                <a href="/signup.html" class="btn-primary">Sign Up Free</a>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Tool Hero Section -->
    <section class="tool-hero">
        <div class="container">
            <h1>Split Statements by Date</h1>
            <p>Extract specific date ranges from your bank statements. Perfect for quarterly reports, specific month analysis, or custom periods.</p>
        </div>
    </section>

    <!-- Upload Section -->
    <section class="upload-section">
        <div class="container">
            <h2 class="section-title">Upload Statement to Split</h2>
            <div class="upload-container">
                <div class="split-area" id="splitArea">
                    <div class="split-icon">
                        <i class="fas fa-cut"></i>
                    </div>
                    <button class="choose-files-btn" id="chooseFilesBtn" style="background: white; color: #ff6b6b;">
                        <i class="fas fa-file-pdf"></i> SELECT STATEMENT
                    </button>
                    <p class="upload-text" style="color: white;">or drop your bank statement here</p>
                    <input type="file" id="fileInput" accept=".pdf,.jpg,.jpeg,.png" hidden>
                </div>
            </div>
            
            <div class="date-selector">
                <h3>Select Date Range to Extract</h3>
                <div class="date-inputs">
                    <div class="date-input-group">
                        <label for="startDate">Start Date</label>
                        <input type="date" id="startDate" placeholder="MM/DD/YYYY">
                    </div>
                    <div class="date-input-group">
                        <label for="endDate">End Date</label>
                        <input type="date" id="endDate" placeholder="MM/DD/YYYY">
                    </div>
                </div>
                
                <p style="text-align: center; color: #6c757d; margin-bottom: 20px;">
                    Or choose a quick range:
                </p>
                
                <div class="quick-ranges">
                    <button class="quick-range-btn">Last Month</button>
                    <button class="quick-range-btn">Last Quarter</button>
                    <button class="quick-range-btn">Last 3 Months</button>
                    <button class="quick-range-btn">Last 6 Months</button>
                    <button class="quick-range-btn">Year to Date</button>
                    <button class="quick-range-btn">Last Year</button>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button id="splitButton" class="split-button" style="
                        background: #ff6b6b;
                        color: white;
                        border: none;
                        padding: 16px 40px;
                        font-size: 1.125rem;
                        font-weight: 600;
                        border-radius: 8px;
                        cursor: pointer;
                        display: inline-flex;
                        align-items: center;
                        gap: 10px;
                        transition: all 0.3s ease;
                        opacity: 0.5;
                        pointer-events: none;
                    ">
                        <i class="fas fa-scissors"></i>
                        Split & Download
                    </button>
                </div>
                
                <div id="processingMessage" style="display: none; text-align: center; margin-top: 20px;">
                    <div class="spinner" style="
                        border: 3px solid #f3f3f3;
                        border-top: 3px solid #ff6b6b;
                        border-radius: 50%;
                        width: 40px;
                        height: 40px;
                        animation: spin 1s linear infinite;
                        margin: 0 auto 10px;
                    "></div>
                    <p style="color: #6c757d;">Processing your statement...</p>
                </div>
                
                <div id="errorMessage" style="display: none; background: #fee; color: #c33; padding: 15px; border-radius: 8px; margin-top: 20px; text-align: center;"></div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="split-features">
        <div class="container">
            <h2 class="section-title">Precise Date Splitting</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <i class="fas fa-calendar-alt"></i>
                    <h3>Smart Date Recognition</h3>
                    <p>Automatically identifies transaction dates in any format, from any bank statement layout.</p>
                </div>
                <div class="feature-item">
                    <i class="fas fa-filter"></i>
                    <h3>Accurate Filtering</h3>
                    <p>Extracts only transactions within your specified date range, maintaining statement structure.</p>
                </div>
                <div class="feature-item">
                    <i class="fas fa-balance-scale"></i>
                    <h3>Balance Recalculation</h3>
                    <p>Automatically recalculates running balances for the extracted period for accuracy.</p>
                </div>
                <div class="feature-item">
                    <i class="fas fa-file-export"></i>
                    <h3>Multiple Output Options</h3>
                    <p>Export split statements as PDF for records or CSV/Excel for further analysis.</p>
                </div>
                <div class="feature-item">
                    <i class="fas fa-clock"></i>
                    <h3>Batch Processing</h3>
                    <p>Split multiple statements at once using the same date range for consistent reporting.</p>
                </div>
                <div class="feature-item">
                    <i class="fas fa-check-double"></i>
                    <h3>Data Integrity</h3>
                    <p>Preserves all transaction details, descriptions, and metadata from original statements.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Split Examples -->
    <section class="split-examples">
        <div class="container">
            <h2 class="section-title">Common Split Scenarios</h2>
            <div class="example-grid">
                <div class="example-card">
                    <div class="example-visual">
                        <div class="doc-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="arrow-icon">→</div>
                        <div class="mini-docs">
                            <div class="mini-doc">Q1</div>
                            <div class="mini-doc">Q2</div>
                            <div class="mini-doc">Q3</div>
                            <div class="mini-doc">Q4</div>
                        </div>
                    </div>
                    <h4>Quarterly Reports</h4>
                    <p>Split annual statements into quarters for business reporting and tax preparation.</p>
                </div>
                
                <div class="example-card">
                    <div class="example-visual">
                        <div class="doc-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="arrow-icon">→</div>
                        <div class="mini-docs">
                            <div class="mini-doc">Jan</div>
                            <div class="mini-doc">Feb</div>
                            <div class="mini-doc">Mar</div>
                        </div>
                    </div>
                    <h4>Monthly Breakdown</h4>
                    <p>Extract individual months from combined statements for detailed expense tracking.</p>
                </div>
                
                <div class="example-card">
                    <div class="example-visual">
                        <div class="doc-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="arrow-icon">→</div>
                        <div class="mini-docs">
                            <div class="mini-doc" style="width: 60px;">Custom</div>
                        </div>
                    </div>
                    <h4>Custom Periods</h4>
                    <p>Extract any date range for specific needs like project budgets or event expenses.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Use Cases -->
    <section class="use-cases" style="background: #f8f9fa;">
        <div class="container">
            <h2 class="section-title">Perfect For</h2>
            <div class="use-case-grid">
                <div class="use-case">
                    <div class="use-case-icon" style="background: #ffe0e0; color: #ff6b6b;">
                        <i class="fas fa-receipt"></i>
                    </div>
                    <div class="use-case-content">
                        <h4>Expense Reports</h4>
                        <p>Extract specific periods for reimbursement claims or budget reviews without sharing entire statements.</p>
                    </div>
                </div>
                <div class="use-case">
                    <div class="use-case-icon" style="background: #ffe0e0; color: #ff6b6b;">
                        <i class="fas fa-gavel"></i>
                    </div>
                    <div class="use-case-content">
                        <h4>Legal Documentation</h4>
                        <p>Provide specific date ranges required for legal proceedings or dispute resolution.</p>
                    </div>
                </div>
                <div class="use-case">
                    <div class="use-case-icon" style="background: #ffe0e0; color: #ff6b6b;">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <div class="use-case-content">
                        <h4>Financial Analysis</h4>
                        <p>Isolate specific periods to analyze spending patterns, seasonal trends, or compare periods.</p>
                    </div>
                </div>
                <div class="use-case">
                    <div class="use-case-icon" style="background: #ffe0e0; color: #ff6b6b;">
                        <i class="fas fa-university"></i>
                    </div>
                    <div class="use-case-content">
                        <h4>Loan Applications</h4>
                        <p>Extract exactly the months required by lenders without exposing unnecessary financial history.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2>Start Splitting Your Statements</h2>
            <p>Extract exactly what you need from your bank statements</p>
            <a href="#splitArea" class="btn-cta" style="background: #ff6b6b;">
                <i class="fas fa-cut"></i> Split Statement Now - It's Free
            </a>
            <p class="cta-note">No registration required • Instant processing • Your data stays private</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h4>Tools</h4>
                    <ul>
                        <li><a href="/convert-pdf.html">Convert PDF</a></li>
                        <li><a href="/merge-statements.html">Merge Statements</a></li>
                        <li><a href="/split-by-date.html">Split by Date</a></li>
                        <li><a href="/analyze-transactions.html">Analyze Transactions</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="/blog.html">Blog</a></li>
                        <li><a href="/help.html">Help Center</a></li>
                        <li><a href="/api.html">API Docs</a></li>
                        <li><a href="/faq.html">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="/about.html">About Us</a></li>
                        <li><a href="/contact.html">Contact</a></li>
                        <li><a href="/careers.html">Careers</a></li>
                        <li><a href="/press.html">Press</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="/privacy.html">Privacy Policy</a></li>
                        <li><a href="/terms.html">Terms of Service</a></li>
                        <li><a href="/gdpr.html">GDPR</a></li>
                        <li><a href="/ccpa.html">CCPA</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <p>&copy; 2025 BankCSV Converter. All rights reserved.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="/js/modern-homepage-fixed.js"></script>
    <script src="/js/dropdown-handler.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Test backend connection
        fetch('http://localhost:5001/api/split-statement', { method: 'POST' })
            .then(res => res.json())
            .then(data => console.log('Backend is running:', data))
            .catch(err => console.error('Backend connection error:', err));
        
        // Date range button functionality
        const quickRangeButtons = document.querySelectorAll('.quick-range-btn');
        const startDateInput = document.getElementById('startDate');
        const endDateInput = document.getElementById('endDate');
        
        quickRangeButtons.forEach(button => {
            button.addEventListener('click', function() {
                const range = this.textContent.trim();
                const today = new Date();
                let startDate, endDate;
                
                switch(range) {
                    case 'Last Month':
                        startDate = new Date(today.getFullYear(), today.getMonth() - 1, 1);
                        endDate = new Date(today.getFullYear(), today.getMonth(), 0);
                        break;
                        
                    case 'Last Quarter':
                        const currentQuarter = Math.floor(today.getMonth() / 3);
                        const lastQuarter = currentQuarter === 0 ? 3 : currentQuarter - 1;
                        const lastQuarterYear = currentQuarter === 0 ? today.getFullYear() - 1 : today.getFullYear();
                        startDate = new Date(lastQuarterYear, lastQuarter * 3, 1);
                        endDate = new Date(lastQuarterYear, (lastQuarter + 1) * 3, 0);
                        break;
                        
                    case 'Last 3 Months':
                        startDate = new Date(today.getFullYear(), today.getMonth() - 3, today.getDate());
                        endDate = today;
                        break;
                        
                    case 'Last 6 Months':
                        startDate = new Date(today.getFullYear(), today.getMonth() - 6, today.getDate());
                        endDate = today;
                        break;
                        
                    case 'Year to Date':
                        startDate = new Date(today.getFullYear(), 0, 1);
                        endDate = today;
                        break;
                        
                    case 'Last Year':
                        startDate = new Date(today.getFullYear() - 1, 0, 1);
                        endDate = new Date(today.getFullYear() - 1, 11, 31);
                        break;
                }
                
                // Format dates as YYYY-MM-DD for input fields
                if (startDate && endDate) {
                    startDateInput.value = formatDate(startDate);
                    endDateInput.value = formatDate(endDate);
                    
                    // Add active state to clicked button
                    quickRangeButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Check if split button should be enabled
                    checkEnableSplitButton();
                }
            });
        });
        
        // Helper function to format date as YYYY-MM-DD
        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }
        
        // Remove active state when user manually changes dates
        startDateInput.addEventListener('change', function() {
            quickRangeButtons.forEach(btn => btn.classList.remove('active'));
        });
        
        endDateInput.addEventListener('change', function() {
            quickRangeButtons.forEach(btn => btn.classList.remove('active'));
        });
        
        // File upload functionality
        const splitArea = document.getElementById('splitArea');
        const fileInput = document.getElementById('fileInput');
        const chooseFilesBtn = document.getElementById('chooseFilesBtn');
        const splitButton = document.getElementById('splitButton');
        const processingMessage = document.getElementById('processingMessage');
        const errorMessage = document.getElementById('errorMessage');
        
        let selectedFile = null;
        
        chooseFilesBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            fileInput.click();
        });
        
        splitArea.addEventListener('click', function() {
            fileInput.click();
        });
        
        fileInput.addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                selectedFile = e.target.files[0];
                const fileName = selectedFile.name;
                chooseFilesBtn.innerHTML = `<i class="fas fa-check"></i> ${fileName}`;
                splitArea.style.borderColor = 'rgba(255, 255, 255, 0.8)';
                checkEnableSplitButton();
            }
        });
        
        // Check if split button should be enabled
        function checkEnableSplitButton() {
            const hasFile = selectedFile !== null;
            const hasDateRange = (startDateInput.value && endDateInput.value);
            
            if (hasFile && hasDateRange) {
                splitButton.classList.add('enabled');
            } else {
                splitButton.classList.remove('enabled');
            }
        }
        
        // Check enable state when dates change
        startDateInput.addEventListener('change', function() {
            quickRangeButtons.forEach(btn => btn.classList.remove('active'));
            checkEnableSplitButton();
        });
        
        endDateInput.addEventListener('change', function() {
            quickRangeButtons.forEach(btn => btn.classList.remove('active'));
            checkEnableSplitButton();
        });
        
        // Drag and drop functionality
        splitArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.style.transform = 'scale(1.05)';
            this.style.borderColor = 'white';
        });
        
        splitArea.addEventListener('dragleave', function(e) {
            e.preventDefault();
            this.style.transform = 'scale(1.02)';
            this.style.borderColor = 'rgba(255, 255, 255, 0.5)';
        });
        
        splitArea.addEventListener('drop', function(e) {
            e.preventDefault();
            this.style.transform = 'scale(1.02)';
            this.style.borderColor = 'rgba(255, 255, 255, 0.8)';
            
            if (e.dataTransfer.files.length > 0) {
                selectedFile = e.dataTransfer.files[0];
                fileInput.files = e.dataTransfer.files;
                const fileName = selectedFile.name;
                chooseFilesBtn.innerHTML = `<i class="fas fa-check"></i> ${fileName}`;
                checkEnableSplitButton();
            }
        });
        
        // Split button click handler
        splitButton.addEventListener('click', async function() {
            if (!this.classList.contains('enabled')) return;
            
            // Hide error message if shown
            errorMessage.style.display = 'none';
            
            // Show processing message
            processingMessage.style.display = 'block';
            splitButton.style.display = 'none';
            
            try {
                // Create form data
                const formData = new FormData();
                formData.append('file', selectedFile);
                formData.append('start_date', startDateInput.value);
                formData.append('end_date', endDateInput.value);
                
                // Send to backend
                const response = await fetch('http://localhost:5001/api/split-statement', {
                    method: 'POST',
                    body: formData
                });
                
                if (response.ok) {
                    // Download the result
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `split_${selectedFile.name.replace('.pdf', '')}_${startDateInput.value}_to_${endDateInput.value}.csv`;
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                    document.body.removeChild(a);
                    
                    // Reset UI
                    processingMessage.style.display = 'none';
                    splitButton.style.display = 'inline-flex';
                    
                    // Show success (you could add a success message div)
                    alert('Statement split successfully! Check your downloads.');
                } else {
                    const errorData = await response.json();
                    throw new Error(errorData.error || 'Failed to split statement');
                }
            } catch (error) {
                // Show error
                console.error('Split error:', error);
                errorMessage.textContent = 'Error: ' + error.message;
                errorMessage.style.display = 'block';
                processingMessage.style.display = 'none';
                splitButton.style.display = 'inline-flex';
            }
        });
    });
    </script>
</body>
</html>